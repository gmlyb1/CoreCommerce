<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout/head :: head"></head>

<body class="d-flex flex-column min-vh-100 bg-light">

<div th:replace="layout/header :: header"></div>

<div class="container py-5 flex-grow-1" style="max-width:1000px;">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="fw-bold">ğŸ“© 1:1 ë¬¸ì˜</h3>

        <a class="btn btn-primary"
           href="/inquiry/write">
            âœ ë¬¸ì˜ ì‘ì„±
        </a>
    </div>

    <div class="card shadow border-0 rounded-4">
        <div class="card-body">
            <table class="table table-hover text-center align-middle">
                <thead class="table-dark">
	                <tr>
	                    <th>ë²ˆí˜¸</th>
	                    <th>ì œëª©</th>
	                    <th>ì‘ì„±ì</th>
	                    <th>ìƒíƒœ</th>
	                    <th>ì‘ì„±ì¼</th>
	                </tr>
                </thead>

                <tbody>
                <tr th:if="${#lists.isEmpty(list)}">
                    <td colspan="4" class="py-4">
                        ë“±ë¡ëœ ë¬¸ì˜ê°€ ì—†ìŠµë‹ˆë‹¤.
                    </td>
                </tr>

                <tr th:each="inquiry : ${list}">
                    <td th:text="${inquiry.id}"></td>
                    <td>
                        <a th:href="@{'/inquiry/' + ${inquiry.id}}"
                           class="text-decoration-none fw-semibold">
                            <span th:text="${inquiry.title}"></span>
                        </a>
                    </td>
                    <td th:text="${inquiry.memberId}"></td>
                    <td>
                        <span th:if="${inquiry.status == 'WAIT'}"
                              class="badge bg-warning text-dark">
                            ë‹µë³€ëŒ€ê¸°
                        </span>
                        <span th:if="${inquiry.status == 'DONE'}"
                              class="badge bg-success">
                            ë‹µë³€ì™„ë£Œ
                        </span>
                    </td>
                    <td>
                        <span th:text="${#temporals.format(inquiry.createdAt,'yyyy-MM-dd')}"></span>
                    </td>
                </tr>
                </tbody>
            </table>
            <div th:if="${pagination != null and pagination.totalPages > 1}">
			    <ul class="pagination justify-content-center">
			
			        <!-- ì´ì „ -->
			        <li class="page-item"
			            th:classappend="${pagination.first} ? 'disabled'">
			            <a class="page-link"
			               th:href="@{/inquiry/list(page=${pagination.page - 1})}">
			                â€¹
			            </a>
			        </li>
			
			        <!-- ë²ˆí˜¸ -->
			        <li class="page-item"
			            th:each="i : ${#numbers.sequence(1, pagination.totalPages)}"
			            th:classappend="${i == pagination.page} ? 'active'">
			
			            <a class="page-link"
			               th:href="@{/inquiry/list(page=${i})}"
			               th:text="${i}">
			            </a>
			        </li>
			
			        <!-- ë‹¤ìŒ -->
			        <li class="page-item"
			            th:classappend="${pagination.last} ? 'disabled'">
			
			            <a class="page-link"
			               th:href="@{/inquiry/list(page=${pagination.page + 1})}">
			                â€º
			            </a>
			        </li>
			
			    </ul>
			</div>
        </div>
    </div>
</div>

<style>
.pagination {
    display: flex;
    flex-direction: row;
    justify-content: center;
    gap: 5px;
}

.pagination .page-item {
    display: inline-block;
}
</style>

<div th:replace="layout/footer :: footer"></div>

</body>
</html>