<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/head :: head"></head>
<body class="d-flex flex-column min-vh-100">

<div th:replace="layout/header :: header"></div>

<div class="container flex-grow-1 mt-5 mb-5">

    <h3 class="mb-4 fw-bold">üì¶ Ï£ºÎ¨∏ ÎÇ¥Ïó≠</h3>

    <div class="card shadow-sm rounded-4">
        <div class="card-body p-4">

            <table class="table align-middle text-center">
                <thead class="table-light">
                <tr>
                    <th>Ï£ºÎ¨∏Î≤àÌò∏</th>
                    <th>Ï£ºÎ¨∏ÏùºÏûê</th>
                    <th>Í≤∞Ï†úÍ∏àÏï°</th>
                    <th>ÏÉÅÌÉú</th>
                    <th></th>
                </tr>
                </thead>

                <tbody>

                <!-- Ï£ºÎ¨∏ Î™©Î°ù -->
                <tr th:each="order : ${orders}">
                    <td>
                        <b th:text="${order.id}"></b>
                    </td>

                    <td th:text="${#temporals.format(order.createdAt, 'yyyy-MM-dd HH:mm')}">
                        2025-01-01
                    </td>

                    <td th:text="${T(java.lang.String).format('%,dÏõê', order.totalPrice)}">
                        0Ïõê
                    </td>

                    <td>
                        <span th:if="${order.status == 'PAID'}"
                              class="badge bg-success">Í≤∞Ï†úÏôÑÎ£å</span>

                        <span th:if="${order.status == 'READY'}"
                              class="badge bg-primary">Í≤∞Ï†úÎåÄÍ∏∞</span>

                        <span th:if="${order.status == 'CANCEL'}"
                              class="badge bg-danger">Ï∑®ÏÜå</span>
                    </td>

                    <td>
                        <a th:href="@{/order/orders/{id}(id=${order.id})}"
                           class="text-primary fw-bold">
                            ÏÉÅÏÑ∏Î≥¥Í∏∞
                        </a>
                    </td>
                </tr>

                <!-- Ï£ºÎ¨∏ ÏóÜÏùÑ Îïå -->
                <tr th:if="${#lists.isEmpty(orders)}">
                    <td colspan="5" class="text-muted py-4">
                        Ï£ºÎ¨∏ ÎÇ¥Ïó≠Ïù¥ ÏóÜÏäµÎãàÎã§.
                    </td>
                </tr>

                </tbody>
            </table>

            <!-- üî• ÌéòÏù¥Ïßï ÏòÅÏó≠ -->
			<div class="mt-4"
			     th:if="${pagination != null and pagination.totalPages > 1}">
			
			    <nav>
			        <ul class="pagination justify-content-center d-flex flex-row">
			
			            <li class="page-item"
			                th:classappend="${pagination.first} ? 'disabled'">
			
			                <a class="page-link"
			                   th:href="@{/order/orders(page=${pagination.page - 1})}">
			                    ‚Äπ
			                </a>
			            </li>
			
			            <li class="page-item"
			                th:each="i : ${#numbers.sequence(1, pagination.totalPages)}"
			                th:classappend="${i == pagination.page} ? 'active'">
			
			                <a class="page-link"
			                   th:href="@{/order/orders(page=${i})}"
			                   th:text="${i}">
			                </a>
			            </li>
			
			            <li class="page-item"
			                th:classappend="${pagination.last} ? 'disabled'">
			
			                <a class="page-link"
			                   th:href="@{/order/orders(page=${pagination.page + 1})}">
			                    ‚Ä∫
			                </a>
			            </li>
			
			        </ul>
			    </nav>
			
			</div>

        </div>
    </div>

</div>

<div th:replace="layout/footer :: footer"></div>

</body>
</html>